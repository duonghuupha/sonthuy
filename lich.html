<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>L·ªãch c√≥ s·ª± ki·ªán b·∫±ng JavaScript</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }

    .calendar {
      display: inline-block;
      margin-top: 20px;
    }

    .calendar-header {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-bottom: 10px;
    }

    button {
      padding: 5px 10px;
      font-size: 16px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin: 0 auto;
    }

    th, td {
      width: 14.2%;
      padding: 10px;
      border: 1px solid #ccc;
      cursor: pointer;
    }

    td.today {
      background-color: #87cefa;
      font-weight: bold;
    }

    td:hover {
      background-color: #eee;
    }

    .event-info {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>L·ªãch JavaScript v·ªõi s·ª± ki·ªán</h1>

  <div class="calendar">
    <div class="calendar-header">
      <button onclick="changeMonth(-1)">‚Üê Th√°ng tr∆∞·ªõc</button>
      <h2 id="month-year"></h2>
      <button onclick="changeMonth(1)">Th√°ng sau ‚Üí</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>CN</th>
          <th>T2</th>
          <th>T3</th>
          <th>T4</th>
          <th>T5</th>
          <th>T6</th>
          <th>T7</th>
        </tr>
      </thead>
      <tbody id="calendar-body"></tbody>
    </table>
  </div>

  <div class="event-info" id="event-info">Ch·ªçn m·ªôt ng√†y ƒë·ªÉ xem s·ª± ki·ªán</div>

  <script>
    const monthYearDisplay = document.getElementById("month-year");
    const calendarBody = document.getElementById("calendar-body");
    const eventInfo = document.getElementById("event-info");

    const today = new Date();
    let currentMonth = today.getMonth();
    let currentYear = today.getFullYear();

    const monthNames = [
      "Th√°ng 1", "Th√°ng 2", "Th√°ng 3", "Th√°ng 4",
      "Th√°ng 5", "Th√°ng 6", "Th√°ng 7", "Th√°ng 8",
      "Th√°ng 9", "Th√°ng 10", "Th√°ng 11", "Th√°ng 12"
    ];

    // D·ªØ li·ªáu s·ª± ki·ªán (c√≥ th·ªÉ l·∫•y t·ª´ API, file JSON, ho·∫∑c backend sau n√†y)
    const events = {
      "2025-07-26": "H√¥m nay l√† ng√†y hi·ªán t·∫°i!",
      "2025-08-02": "Sinh nh·∫≠t b·∫°n A",
      "2025-08-15": "L·ªÖ h·ªôi trung thu",
      "2025-08-22": "H·ªçp c√¥ng ty"
    };

    function updateCalendar() {
      const firstDay = new Date(currentYear, currentMonth, 1).getDay();
      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

      monthYearDisplay.textContent = `${monthNames[currentMonth]} ${currentYear}`;
      calendarBody.innerHTML = "";

      let date = 1;

      for (let i = 0; i < 6; i++) {
        const row = document.createElement("tr");

        for (let j = 0; j < 7; j++) {
          const cell = document.createElement("td");

          if (i === 0 && j < firstDay) {
            cell.innerHTML = "";
          } else if (date > daysInMonth) {
            cell.innerHTML = "";
          } else {
            cell.textContent = date;

            const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, "0")}-${String(date).padStart(2, "0")}`;
            if (dateStr === getTodayString()) {
              cell.classList.add("today");
            }

            // Th√™m s·ª± ki·ªán khi click v√†o √¥ ng√†y
            cell.addEventListener("click", () => {
              if (events[dateStr]) {
                eventInfo.textContent = `üìå ${events[dateStr]}`;
              } else {
                eventInfo.textContent = `‚ùå Kh√¥ng c√≥ s·ª± ki·ªán cho ng√†y ${dateStr}`;
              }
            });

            date++;
          }

          row.appendChild(cell);
        }

        calendarBody.appendChild(row);
        if (date > daysInMonth) break;
      }
    }

    function changeMonth(offset) {
      currentMonth += offset;

      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      } else if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }

      updateCalendar();
      eventInfo.textContent = "Ch·ªçn m·ªôt ng√†y ƒë·ªÉ xem s·ª± ki·ªán";
    }

    function getTodayString() {
      const d = new Date();
      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, "0")}-${String(d.getDate()).padStart(2, "0")}`;
    }

    // Hi·ªÉn th·ªã l·∫ßn ƒë·∫ßu
    updateCalendar();
  </script>
</body>
</html>
